---
TOCTitle: 'MS07-019'
Title: 'Microsoft Security Bulletin MS07-019 - Crítica'
ms:assetid: 'ms07-019'
ms:contentKeyID: 61233600
ms:mtpsurl: 'https://technet.microsoft.com/pt-BR/library/ms07-019(v=Security.10)'
---


Microsoft Security Bulletin MS07-019 - Crítica
==============================================

A vulnerabilidade no Universal Plug and Play pode permitir a execução remota de código (931261)
-----------------------------------------------------------------------------------------------

Publicado: terça-feira, 10 de abril de 2007

**Versão:** 1.0

#### Resumo

**Quem deve ler este documento:** Clientes que usam o Microsoft Windows

**Impacto da vulnerabilidade:** Execução Remota de Código

**Classificação máxima de gravidade:** Crítica

**Recomendação:** Os clientes devem aplicar a atualização imediatamente.

**Substituição da atualização de segurança:** Nenhuma

**Advertências:** Nenhuma

**Locais de softwares testados e de download de atualização de segurança:**

**Softwares afetados:**

-   Microsoft Windows XP Service Pack 2 – [Baixar a atualização](http://www.microsoft.com/downloads/details.aspx?familyid=ecf69778-91f9-498e-a8bd-35208aa93051)
-   Microsoft Windows XP Professional x64 Edition e Microsoft Windows XP Professional x64 Edition Service Pack 2— [Baixar a atualização](http://www.microsoft.com/downloads/details.aspx?familyid=6ceb5b4f-861f-4f37-b4bc-e8a56382b833)

**Softwares não afetados:**

-   Microsoft Windows 2000 Service Pack 4
-   Microsoft Windows Server 2003, Microsoft Windows Server 2003 Service Pack 1 e Microsoft Windows Server 2003 Service Pack 2
-   Microsoft Windows Server 2003 para sistemas baseados em Itanium, Microsoft Windows Server 2003 com SP1 para sistemas baseados em Itanium e Microsoft Windows Server 2003 com SP2 para sistemas baseados em Itanium
-   Microsoft Windows Server 2003 x64 Edition e Microsoft Windows Server 2003 x64 Edition Service Pack 2
-   Windows Vista
-   Windows Vista x64 Edition

Os softwares dessa lista foram testados para se determinar se as versões são afetadas. O ciclo de vida do suporte das outras versões já terminou ou elas não são afetadas. Para determinar o ciclo de vida do suporte para seu produto e sua versão, visite o [site do Microsoft Support Lifecycle](http://go.microsoft.com/fwlink/?linkid=21742).

### Informações Gerais

Sinopse
-------


**Sinopse:**

Esta atualização elimina uma vulnerabilidade descoberta recentemente e reportada em particular. Cada vulnerabilidade está documentada em sua própria subseção na seção Detalhes da Vulnerabilidade deste boletim.

Recomendamos que os clientes apliquem a atualização imediatamente.

**Classificação de Gravidade e Identificadores de Vulnerabilidade:**

| Identificadores de Vulnerabilidade                                                                                                 | Impacto da Vulnerabilidade | Microsoft Windows XP Service Pack 2 |
|------------------------------------------------------------------------------------------------------------------------------------|----------------------------|-------------------------------------|
| Vulnerabilidade de corrupção de memória de UPnP - [CVE-2007-1204](http://www.cve.mitre.org/cgi-bin/cvename.cgi?name=cve-2007-1204) | Execução Remota de Código  | Crítica                             |

Essa [avaliação](http://go.microsoft.com/fwlink/?linkid=21140) baseia-se nos tipos de sistemas afetados pela vulnerabilidade, seus padrões comuns de implantação e o efeito da exploração da vulnerabilidade sobre eles.

**Observação** As classificações de gravidade das versões de sistema operacional não x86 mapeiam para as versões de sistemas operacionais x86 da seguinte forma:

-   A classificação de gravidade do Windows XP Professional x64 Edition e do Windows XP Professional x64 Edition Service Pack 2 é a mesma que a do Windows XP Service Pack 2.

Perguntas mais freqüentes relacionadas a esta atualização de segurança
----------------------------------------------------------------------


**Posso usar o MBSA (Microsoft Baseline Security Analyzer) para determinar se esta atualização é necessária?**  
A tabela a seguir fornece o resumo de detecção do MBSA para esta atualização de segurança.

| Produto                                                                                                      | MBSA 1.2.1 | MBSA 2.0.1 |
|--------------------------------------------------------------------------------------------------------------|------------|------------|
| Microsoft Windows XP Service Pack 2                                                                          | Sim        | Sim        |
| Microsoft Windows XP Professional x64 Edition e Microsoft Windows XP Professional x64 Edition Service Pack 2 | Não        | Sim        |

Para obter mais informações sobre o MBSA, visite o [site do MBSA](http://go.microsoft.com/fwlink/?linkid=21134). Para obter mais informações sobre os programas que o Microsoft Update e o MBSA 2.0 atualmente não detectam, consulte o [artigo 895660 (em inglês) da Microsoft Knowledge Base.](http://support.microsoft.com/kb/895660)

Para obter informações detalhadas, consulte o [artigo 910723 (em inglês) da Microsoft Knowledge Base](http://support.microsoft.com/kb/910723). Lista de resumo de detecção mensal e os artigos de diretrizes de implantação.

**Posso usar o SMS (Systems Management Server) para determinar se esta atualização é necessária?**  
A tabela a seguir fornece o resumo de detecção de SMS para esta atualização de segurança.

| Produto                                                                                                      | SMS 2.0 | SMS 2003 |
|--------------------------------------------------------------------------------------------------------------|---------|----------|
| Microsoft Windows XP Service Pack 2                                                                          | Sim     | Sim      |
| Microsoft Windows XP Professional x64 Edition e Microsoft Windows XP Professional x64 Edition Service Pack 2 | Não     | Sim      |

SMS 2.0 e SMS 2003 Software Update Services (SUS) Feature Pack podem usar MBSA 1.2.1 para detecção e assim têm a mesma limitação listada anteriormente neste boletim relacionada a programas que o MBSA 1.2.1 não detecta.

Para o SMS 2.0, o SMS SUS Feature Pack, que inclui a ferramenta Inventário da Atualização de Segurança (SUIT), pode ser usado pelo SMS para detectar atualizações de segurança. O SMS SUIT usa o mecanismo do MBSA 1.2.1 para detecção. Para obter mais informações sobre SUIT, visite o seguinte [site da Microsoft](http://support.microsoft.com/kb/894154/). Para obter mais informações sobre as limitações da SUIT, consulte o [artigo 306460 da Microsoft Knowledge Base](http://support.microsoft.com/kb/306460/). O SMS SUS Feature Pack também inclui a ferramenta Office Inventory da Microsoft para detectar atualizações necessárias para aplicativos do Microsoft Office.

Para o SMS 2003, a ferramenta Inventário do SMS 2003 para Microsoft Updates pode ser usada pelo SMS para detectar as atualizações de segurança oferecidas pelo [Microsoft Update](http://update.microsoft.com/microsoftupdate) e que tenham suporte do [Windows Server Update Services](http://go.microsoft.com/fwlink/?linkid=50120). Para obter mais informações a ferramenta ITMU do SMS 2003, visite o seguinte [site da Microsoft](http://go.microsoft.com/fwlink/?linkid=72181). O SMS 2003 também pode usar a ferramenta Office Inventory da Microsoft para detectar as atualizações necessárias dos aplicativos do Microsoft Office.

Para obter mais informações sobre o SMS, visite o [site do SMS](http://go.microsoft.com/fwlink/?linkid=21158).

Para obter informações detalhadas, consulte o [artigo 910723 (em inglês) da Microsoft Knowledge Base](http://support.microsoft.com/kb/910723). Lista de resumo de detecção mensal e os artigos de diretrizes de implantação.

**Uso uma versão mais antiga do software discutido neste boletim de segurança; o que eu devo fazer?**  
Os softwares afetados listados neste boletim foram testados para determinar se suas versões são afetadas. Outras versões pasaram seu ciclo de vida de suporte. Para determinar o ciclo de vida do suporte para seu produto e sua versão, visite o [site do Microsoft Support Lifecycle](http://support.microsoft.com/common/international.aspx?rdpath=gp;%5bln%5d;lifecycle).

Os clientes que possuem versões anteriores do software devem priorizar a migração para as versões com suporte, a fim de evitar uma possível exposição a vulnerabilidades. Para obter mais informações sobre o ciclo de vida do produto Windows, visite o [site do Microsoft Support Lifecycle](http://support.microsoft.com/common/international.aspx?rdpath=gp;%5bln%5d;lifecycle). Para obter mais informações sobre o período de suporte estendido da atualização de segurança dessas versões de sistema operacional, visite o [site Microsoft Product Support Services](http://support.microsoft.com/gp/lifesupsps).

Os clientes que precisarem de suporte adicional para software mais antigo deverão entrar em contato com o representante da equipe de contas da Microsoft, o gerente técnico da conta ou o representante do parceiro Microsoft apropriado para obter opções de suporte personalizadas. Os clientes sem um contrato Alliance, Premier ou Authorized podem entrar em contato com o escritório de vendas local da Microsoft. Para obter informações de contato, visite o site de [Informações internacionais da Microsoft](http://www.microsoft.com/worldwide), selecione o país e clique em **Go** para ver uma lista de telefones. Ao ligar, peça para falar com o gerente de vendas local de Suporte Premier. Para obter mais informações, consulte a seção [Perguntas mais freqüentes sobre o ciclo de vida do suporte ao produto sistema operacional Windows](http://support.microsoft.com/gp/lifewinfaq/pt-br).

Detalhes da Vulnerabilidade
---------------------------


#### Vulnerabilidade de corrupção de memória de UPnP - CVE-2007-1204:

Existe uma vulnerabilidade de execução remota de código na forma como o serviço Universal Plug and Play lida com solicitações HTTP especialmente criadas. O invasor que explorar a vulnerabilidade com sucesso poderá executar código arbitrário no contexto do serviço local.

#### Fatores atenuantes da vulnerabilidade de corrupção de memória de UPnP - CVE-2007-1204:

-   Um invasor que explorar com êxito essa vulnerabilidade poderá executar código no contexto da conta Serviço Local apenas e não poderá executar na conta SISTEMA Local.
-   As práticas recomendadas para firewall e as configurações de firewall padrão podem ajudar a proteger as redes contra ataques com origem externa ao perímetro da empresa. Essas práticas também recomendam que os sistemas conectados à Internet tenham um número mínimo de portas expostas.

#### Soluções alternativas para a vulnerabilidade de corrupção de memória de UPnP - CVE-2007-1204:

A Microsoft testou as seguintes soluções alternativas. Apesar de essas soluções alternativas não corrigirem a vulnerabilidade subjacente, elas ajudam a bloquear vetores de ataque conhecidos. Quando uma solução alternativa reduz a funcionalidade, ela é identificada na seção a seguir.

-   **Bloquear o seguinte no firewall:**

    -   Porta UDP 1900 e porta TCP 2869

    A estrutura de UPnP usa a porta UDP 1900 e a porta TCP 2869. O SSDP (Simple Service Discovery Protocol) usa pesquisas de multicast para descobrir dispositivos UPnP. As pesquisas de multicast são enviadas para a porta UDP 1900 usando portas de saída dinâmicas. O Firewall do Windows aceita respostas combinadas de pesquisa de multicast que sejam recebidas dentro de três segundos de uma pesquisa de multicast. Depois disso, o firewall bloqueará respostas de pesquisa de multicast, ainda que combinem com as solicitações de pesquisa. Para obter informações adicionais sobre efeitos no serviço UPnP quando configurar o firewall, consulte o [artigo 886257 (em inglês) da Microsoft Knowledge Base.](http://support.microsoft.com/kb/886257)

    **Impacto da solução alternativa:**

    -   A estrutura de UPnP não pode descobrir dispositivos UPnP em rede que se anunciem. O firewall bloqueia estes anúncios de entrada.
    -   Um ponto de controle executado em outro computador não pode localizar nem controlar dispositivos UPnP executados em um computador com Windows XP SP2. O firewall bloqueia as mensagens relacionadas ao dispositivo UPnP de entrada.

    **Como desfazer a solução alternativa:**

    Para desfazer a solução alternativa, reative a porta UDP 1900 e a porta TCP 2869 no firewall.

-   **Desative o serviço Universal Plug and Play**

    Desativar o serviço UPnP ajudará a proteger o computador afetado das tentativas de explorar essa vulnerabilidade. Para desativar o serviço UPnP, siga estas etapas:

    1.  Clique em **Iniciar** e em **Painel de Controle** .Como alternativa, aponte para **Configurações** e clique em **Painel de Controle**.
    2.  Clique duas vezes em **Ferramentas Administrativas**.
    3.  Clique duas vezes em **Serviços**.
    4.  Clique duas vezes em **Host de dispositivo Plug and Play universal**.
    5.  Na lista **Tipo de inicialização**, clique em **Desativado**.
    6.  Clique em **Parar** e em **OK**.

    Você também pode interromper e desabilitar o serviço UPnP usando o seguinte comando no prompt de comando:

    ```
    sc stop UPnPHost &sc config UPnPHost start= disabled
    ```

    **Impacto da solução alternativa:** Se desativar o serviço UPnP, os componentes que dependam do serviço UPnP poderão não operar corretamente.

    **Como desfazer a solução alternativa:**

    Para desfazer a solução alternativa, reative o serviço UPnP. Para isso, siga estas etapas:

    1.  Clique em **Iniciar** e em **Painel de Controle** .Como alternativa, aponte para **Configurações** e clique em **Painel de Controle**.
    2.  Clique duas vezes em **Ferramentas Administrativas**.
    3.  Clique duas vezes em **Serviços**.
    4.  Clique duas vezes em **Host de dispositivo Plug and Play universal**.
    5.  Na lista **Tipo de inicialização**, clique em **Manual**.
    6.  Clique em **Iniciar** e, em seguida, clique em **OK**.

-   **Para ajudar a se proteger de tentativas baseadas na rede de explorar esta vulnerabilidade, habilite a filtragem TCP/IP avançada em um sistema que ofereça suporte a esse recurso.**

    Você pode habilitar a filtragem TCP/IP avançada para impedir todo e qualquer tráfego de entrada não solicitado. Para obter mais informações sobre como configurar a filtragem TCP/IP, consulte o [artigo 309798 (em inglês) da Microsoft Knowledge Base](http://support.microsoft.com/kb/309798).

-   **Para ajudar a se proteger de tentativas baseadas na rede de explorar esta vulnerabilidade, bloqueie as portas afetadas usando o IPSec nos sistemas afetados.**

    Use o Internet Protocol Security (IPSec, segurança de protocolo da Internet) para ajudar a proteger as comunicações de rede. Informações detalhadas sobre o IPSec e a aplicação de filtros estão disponíveis nos [artigos 313190](http://support.microsoft.com/kb/313190) e [813878 (em inglês) da Microsoft Knowledge Base](http://support.microsoft.com/kb/813878).

#### Perguntas freqüentes sobre a vulnerabilidade de corrupção de UPnP - CVE-2007-1204:

**Qual é o escopo da vulnerabilidade?**  
Existe uma vulnerabilidade de execução remota de código na forma como o serviço Universal Plug and Play (UPnP) lida com solicitações HTTP especialmente criadas. Essas solicitações HTTP só podem ser enviadas diretamente a um computador de destino por um invasor na mesma sub-rede. O firewall do Windows XP e o protocolo impõem essa restrição de sub-rede. O invasor que explorar a vulnerabilidade com êxito poderá executar código arbitrário no contexto da conta Serviço Local.

**O que provoca a vulnerabilidade?**  
Quando o serviço UPnP lida com solicitações HTTP especificamente criadas ele pode corromper a memória do sistema de forma que um invasor possa executar código arbitrário.

**O que é UPnP?**  
UPnP é um conjunto de protocolos de rede que amplia o Plug and Play para simplificar a rede de dispositivos inteligentes em lares e empresas. Quando dispositivos com a tecnologia UPnP são fisicamente conectados à rede, eles se conectarão automaticamente pela rede, sem a necessidade de configuração pelo usuário ou de servidores centralizados.

**Para que um invasor pode usar a vulnerabilidade?**  
O invasor que explorar com êxito essa vulnerabilidade poderá assumir o controle total do sistema afetado.

**Quais são os principais sistemas que correm riscos com a vulnerabilidade?**  
As estações de trabalho e os computadores clientes estão principalmente em risco. Os servidores e servidores de terminal não estão em risco porque não incluem o componente UPnP afetado.

**A vulnerabilidade pode ser explorada pela Internet?**  
Um invasor na mesma sub-rede que o computador de destino pode explorar esta vulnerabilidade. Essas solicitações HTTP só podem ser enviadas diretamente a um computador de destino por um invasor na mesma sub-rede. Além disso, as práticas recomendadas de firewall de perímetro e as configurações de firewall de perímetro padrão podem ajudar na proteção contra ataques originados na Internet.

**O que a atualização faz?**  
A atualização elimina a vulnerabilidade, modificando o modo como o UPnP valida solicitações HTTP antes de passar as solicitações ao buffer atribuído.

**Quando esse boletim de segurança foi lançado, essa vulnerabilidade já tinha sido divulgada publicamente?**  
Não. A Microsoft recebeu informações sobre essa vulnerabilidade por meio de divulgação responsável.

**Quando este boletim de segurança foi lançado, a Microsoft tinha recebido algum relatório informando que essa vulnerabilidade estava sendo explorada?**  
Não. A Microsoft não recebeu nenhuma informação indicando que essa vulnerabilidade tenha sido usada publicamente para atacar clientes e não testemunhou nenhum exemplo de publicação de código de verificação de conceito, quando este boletim de segurança foi lançado pela primeira vez.

Informações de atualização de segurança
---------------------------------------


**Softwares afetados:**

Para obter informações sobre uma atualização de segurança específica para seu software afetado, clique no link apropriado:

#### Windows XP (todas as versões)

**Pré-requisitos**
Esta atualização de segurança exige Windows XP Service Pack 2 ou Windows XP Professional x64 Edition. Para obter mais informações sobre como obter o service pack mais recente do Windows XP, consulte o artigo [322389 (em inglês) da Microsoft Knowledge Base](http://support.microsoft.com/kb/322389). Para obter mais informações sobre como obter o Service Pack 2 para Windows XP Professional, x64 Edition, consulte o link a seguir para o [Centro de Download](http://www.microsoft.com/downloads/details.aspx?familyid=893fd6c0-6283-44c3-bb84-b2f0315b2ae6).

**Inclusão em Service Packs futuros**
A atualização desse problema será incluída em um service pack ou conjunto de atualizações futuro.

**Informações sobre instalação**

Esta atualização de segurança oferece suporte às seguintes opções de instalação:

<p></p>
<table class="dataTable">
<caption>
Opções de instalação da atualização de segurança para as quais há suporte
</caption>
<tr class="thead">
<th style="border:1px solid black;" >
Opção
</th>
<th style="border:1px solid black;" >
Descrição
</th>
</tr>
<tr>
<td style="border:1px solid black;">
**/help**
</td>
<td style="border:1px solid black;">
Exibe as opções de linha de comando.
</td>
</tr>
<tr>
<th colspan="2" style="border:1px solid black;">
Modos de instalação
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/passive**
</td>
<td style="border:1px solid black;">
Modo de instalação autônomo. Não é necessária a interação do usuário, mas o status da instalação é exibido. Se a reinicialização for necessária no fim da instalação, uma caixa de diálogo será apresentada para o usuário com um timer avisando que o computador será reiniciado em 30 segundos.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/quiet**
</td>
<td style="border:1px solid black;">
Modo silencioso. O mesmo que modo autônomo, mas nenhuma mensagem de status ou de erro é exibida.
</td>
</tr>
<tr>
<th colspan="2" style="border:1px solid black;">
Opções de reinicialização
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/norestart**
</td>
<td style="border:1px solid black;">
Não reinicia quando a instalação é concluída.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/forcerestart**
</td>
<td style="border:1px solid black;">
Reinicia o computador após a instalação e força o fechamento de outros aplicativos no desligamento sem antes salvar os arquivos abertos.
</td>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/warnrestart\[:x\]**
</td>
<td style="border:1px solid black;">
Exibe uma caixa de diálogo com um timer avisando ao usuário que o computador será reiniciado em *x* segundos. (A configuração padrão é 30 segundos.) Destina-se ao uso com as opções **/quiet** ou **/passive**.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/promptrestart**
</td>
<td style="border:1px solid black;">
Exibe uma caixa de diálogo solicitando que o usuário local permita a reinicialização.
</td>
</tr>
<tr>
<th colspan="2" style="border:1px solid black;">
Opções especiais
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/overwriteoem**
</td>
<td style="border:1px solid black;">
Sobrescreve arquivos OEM sem notificação.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/nobackup**
</td>
<td style="border:1px solid black;">
Não faz backup de arquivos necessários à desinstalação.
</td>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/forceappsclose**
</td>
<td style="border:1px solid black;">
Força o encerramento de outros programas quando o computador é desligado.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/log:caminho**
</td>
<td style="border:1px solid black;">
Permite o redirecionamento dos arquivos de log da instalação.
</td>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/integrate:caminho**
</td>
<td style="border:1px solid black;">
Integra a atualização nos arquivos-fonte do Windows. Esses arquivos se encontram no caminho especificado na opção.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/extract\[:caminho\]**
</td>
<td style="border:1px solid black;">
Extrai os arquivos sem iniciar o programa de instalação.
</td>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/ER**
</td>
<td style="border:1px solid black;">
Habilita o relatório de erros estendido.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/verbose**
</td>
<td style="border:1px solid black;">
Habilita o registro extenso. Durante a instalação, cria %Windir%\\CabBuild.log. Esse log detalha os arquivos copiados. Se você usar esta opção, a instalação será bem mais lenta.
</td>
</tr>
</table>
 
**Observação** É possível combinar essas opções em uma única linha de comando. Para obter compatibilidade com versões anteriores, a atualização de segurança também oferece suporte às opções de instalação utilizadas por versões anteriores do programa de instalação. Para obter mais informações sobre opções com suporte de segurança, consulte o [artigo 262841 (em inglês) da Microsoft Knowledge Base](http://support.microsoft.com/kb/262841). Para obter mais informações sobre o instalador Update.exe, visite [o site Microsoft TechNet](http://go.microsoft.com/fwlink/?linkid=38951).

**Informações de implantação**

Para instalar a atualização de segurança sem nenhuma intervenção do usuário, utilize o seguinte comando em um prompt de comando para o Microsoft Windows XP:

**Windowsxp-kb931261-x86-enu /quiet**

**Observação** O uso da opção **/quiet** suprimirá todas as mensagens. Isso inclui a eliminação de mensagens de falha. Os administradores devem usar um dos métodos com suporte para verificar se a instalação foi bem-sucedida quando usarem a opção **/quiet**. Os administradores também devem analisar o arquivo KB931261.log para obter informações sobre quaisquer mensagens de falha quando usarem essa opção.

Para instalar a atualização de segurança sem forçar a reinicialização do sistema, use o seguinte comando em um prompt de comando para o Windows XP:

**Windowsxp-kb931261-x86-enu /norestart**

Para obter informações sobre como implantar esta atualização de segurança com os serviços de atualização de software, visite o [site Software Update Services](http://go.microsoft.com/fwlink/?linkid=21125). Para obter mais informações sobre como implantar esta atualização de segurança usando o recurso Windows Server Update Services, visite o [site do Windows Server Update Services](http://go.microsoft.com/fwlink/?linkid=50120). Esta atualização de segurança também está disponível no [site Microsoft Update](http://update.microsoft.com/microsoftupdate).

**Requisitos de reinicialização**

É necessário reiniciar o sistema depois de aplicar esta atualização de segurança. Para obter mais informações sobre os motivos pelos quais você será solicitado a reiniciar, consulte o [artigo 887012 (em inglês) da Microsoft Knowledge Base](http://support.microsoft.com/kb/887012).

**Informações sobre remoção**

Para remover esta atualização, use a ferramenta Adicionar ou Remover Programas no Painel de Controle.

Os administradores de sistema também podem usar o utilitário Spuninst.exe para remover esta atualização de segurança. O utilitário Spuninst.exe está localizado na pasta %Windir%\\$NTUninstallKB931261$\\Spuninst.

<p></p>
<table class="dataTable">
<caption>
Opções do Spuninst.exe para as quais existe suporte
</caption>
<tr class="thead">
<th style="border:1px solid black;" >
Opção
</th>
<th style="border:1px solid black;" >
Descrição
</th>
</tr>
<tr>
<td style="border:1px solid black;">
**/help**
</td>
<td style="border:1px solid black;">
Exibe as opções de linha de comando.
</td>
</tr>
<tr>
<th colspan="2" style="border:1px solid black;">
Modos de instalação
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/passive**
</td>
<td style="border:1px solid black;">
Modo de instalação autônomo. Não é necessária a interação do usuário, mas o status da instalação é exibido. Se a reinicialização for necessária no fim da instalação, uma caixa de diálogo será apresentada para o usuário com um timer avisando que o computador será reiniciado em 30 segundos.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/quiet**
</td>
<td style="border:1px solid black;">
Modo silencioso. O mesmo que modo autônomo, mas nenhuma mensagem de status ou de erro é exibida.
</td>
</tr>
<tr>
<th colspan="2" style="border:1px solid black;">
Opções de reinicialização
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/norestart**
</td>
<td style="border:1px solid black;">
Não reinicia quando a instalação é concluída.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/forcerestart**
</td>
<td style="border:1px solid black;">
Reinicia o computador após a instalação e força o fechamento de outros aplicativos no desligamento sem antes salvar os arquivos abertos.
</td>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/warnrestart\[:x\]**
</td>
<td style="border:1px solid black;">
Exibe uma caixa de diálogo com um timer avisando ao usuário que o computador será reiniciado em *x* segundos. (A configuração padrão é 30 segundos.) Destina-se ao uso com as opções **/quiet** ou **/passive**.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/promptrestart**
</td>
<td style="border:1px solid black;">
Exibe uma caixa de diálogo solicitando que o usuário local permita a reinicialização.
</td>
</tr>
<tr>
<th colspan="2" style="border:1px solid black;">
Opções especiais
</th>
</tr>
<tr class="alternateRow">
<td style="border:1px solid black;">
**/forceappsclose**
</td>
<td style="border:1px solid black;">
Força o encerramento de outros programas quando o computador é desligado.
</td>
</tr>
<tr>
<td style="border:1px solid black;">
**/log:caminho**
</td>
<td style="border:1px solid black;">
Permite o redirecionamento dos arquivos de log da instalação.
</td>
</tr>
</table>
 
**Informações sobre o arquivo**

A versão em inglês desta atualização de segurança tem os atributos de arquivo relacionados na tabela abaixo. As datas e as horas destes arquivos estão de acordo com a hora universal coordenada (UTC). Quando você exibe as informações do arquivo, ele é convertido para a hora local. Para saber a diferença entre o UTC e o horário local, use a guia **Fuso Horário** na ferramenta Data e Hora, no Painel de Controle.

Para Windows XP Home Edition Service Pack 2, Windows XP Professional Service Pack 2, Windows XP Tablet PC Edition 2005 e Windows XP Media Center Edition 2005:

| Nome do arquivo | Versão        | Data        | Hora  | Tamanho | Pasta  |
|-----------------|---------------|-------------|-------|---------|--------|
| Upnphost.dll    | 5.1.2600.3077 | 05-fev-2007 | 20:17 | 185.344 | SP2GDR |
| Upnphost.dll    | 5.1.2600.3077 | 05-fev-2007 | 20:19 | 185.344 | SP2QFE |

Windows XP Professional x64 Edition e Windows XP Professional x64 Edition Service Pack 2:

| Nome do arquivo | Versão        | Data        | Hora  | Tamanho | CPU | Pasta       |
|-----------------|---------------|-------------|-------|---------|-----|-------------|
| upnphost.dll    | 5.2.3790.2878 | 08-fev-2007 | 16:41 | 322.048 | x64 | SP1GDR      |
| wupnphost.dll   | 5.2.3790.2878 | 08-fev-2007 | 16:41 | 189.952 | X86 | SP1GDR\\WOW |
| upnphost.dll    | 5.2.3790.2878 | 08-fev-2007 | 16:41 | 322.048 | x64 | SP1QFE      |
| wupnphost.dll   | 5.2.3790.2878 | 08-fev-2007 | 16:41 | 189.952 | X86 | SP1QFE\\WOW |
| upnphost.dll    | 5.2.3790.4019 | 08-fev-2007 | 16:51 | 322.048 | x64 | SP2GDR      |
| wupnphost.dll   | 5.2.3790.4019 | 08-fev-2007 | 16:51 | 189.952 | X86 | SP2GDR\\WOW |
| upnphost.dll    | 5.2.3790.4019 | 08-fev-2007 | 16:40 | 322.048 | x64 | SP2QFE      |
| wupnphost.dll   | 5.2.3790.4019 | 08-fev-2007 | 16:40 | 189.952 | X86 | SP2QFE\\WOW |

**Observações** Quando você instalar estas atualizações de segurança, o instalador verificará se um ou mais arquivos que estão sendo atualizados no sistema já foram atualizados por um hotfix da Microsoft.

Se você já tiver instalado um hotfix para atualizar um desses arquivos, o instalador copiará os arquivos RTMQFE, SP1QFE ou SP2QFE para o sistema. Do contrário, o instalador copiará os arquivos RTMGDR, SP1GDR ou SP2GDR para o sistema. As atualizações de segurança podem não conter todas as variações desses arquivos. Para obter mais informações sobre esse comportamento, consulte o [artigo 824994 (em inglês) da Microsoft Knowledge Base](http://support.microsoft.com/kb/824994).

Para obter mais informações sobre o instalador Update.exe, visite o [site Microsoft TechNet](http://go.microsoft.com/fwlink/?linkid=38951).

Para obter mais informações sobre a terminologia que aparece neste boletim, como *hotfix*, consulte o [artigo 824684 (em inglês) da Microsoft Knowledge Base](http://support.microsoft.com/kb/824684).

**Verificando a aplicação da atualização**

-   **Microsoft Baseline Security Analyzer**

    Para verificar se uma atualização de segurança foi aplicada em um sistema afetado, é possível utilizar a ferramenta MBSA (Microsoft Baseline Security Analyzer). Consulte a seção de perguntas mais freqüentes, “Posso usar o MBSA (Microsoft Baseline Security Analyzer) para determinar se esta atualização é necessária?” na seção Perguntas mais freqüentes relacionadas a esta atualização de segurança, anteriormente neste boletim.

-   **Verificação de versão de arquivo**

    **Observação** Como existem várias versões do Microsoft Windows, as etapas a seguir podem ser diferentes no seu computador. Se isso acontecer, consulte a documentação do produto para completar estas etapas.

    1.  Clique em **Iniciar** e, em seguida, clique em **Pesquisar**.
    2.  No painel **Resultados da Pesquisa**, clique em **Todos os arquivos e pastas**, em **Search Companion**.
    3.  Na caixa **Todo ou parte do nome do arquivo**, digite um nome de arquivo da tabela de informações de arquivo correta e clique em **Pesquisar**.
    4.  Na lista de arquivos, clique com o botão direito do mouse em um nome de arquivo da tabela de informações de arquivo correta e clique em **Propriedades**.  
        **Observação:** dependendo da versão do sistema operacional ou dos programas instalados, alguns dos arquivos listados na tabela de informações de arquivos talvez não estejam instalados.
    5.  Na guia **Versão**, determine a versão do arquivo instalado no computador comparando-o com a versão documentada na tabela de informações de arquivos correta.  
        **Observação** Atributos que não sejam a versão do arquivo podem ser alterados durante a instalação. A comparação de outros atributos de arquivo com as informações na tabela não é um método suportado para verificar se a atualização foi aplicada. Além disso, em alguns casos, arquivos podem ser renomeados durante a instalação. Se as informações sobre o arquivo ou a versão não estiverem presentes, use um dos outros métodos disponíveis para verificar a instalação da atualização.

-   **Verificação da chave do Registro**

    Também é possível verificar os arquivos que esta atualização de segurança instalou analisando as seguintes chaves do Registro:

    Para Windows XP Home Edition Service Pack 2, Windows XP Professional Service Pack 2, Windows XP Tablet PC Edition 2005 e Windows XP Media Center Edition 2005:

    HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Microsoft\\Updates\\Windows XP\\SP3\\KB931261\\Filelist

    Para Windows XP Professional x64 Edition e Windows XP Professional x64 Service Pack 2:

    HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Microsoft\\Updates\\Windows XP Version 2003\\SP3\\KB931261\\Filelist

    **Observação** Essas chaves do Registro podem não conter uma lista completa dos arquivos instalados. Além disso, essas chaves do Registro podem não ser criadas corretamente caso o administrador ou um OEM integre ou adicione a atualização de segurança 931261 aos arquivos-fonte de instalação do Windows.

### Outras informações

**Agradecimentos**

A Microsoft [agradece](http://go.microsoft.com/fwlink/?linkid=21127) à pessoa citada abaixo por trabalhar conosco para ajudar a proteger os clientes:

-   Greg MacManus, da [iDefense Labs](http://labs.idefense.com/), por relatar a Vulnerabilidade de corrupção de memória de UPnP (CVE-2007-1204).

**Obtendo outras atualizações de segurança:**

As atualizações para outros problemas de segurança estão disponíveis nos seguintes locais:

-   As atualizações de segurança estão disponíveis no [Centro de Download da Microsoft](http://go.microsoft.com/fwlink/?linkid=21129). você poderá encontrá-las com mais facilidade, executando uma pesquisa com a palavra-chave "patch\_de\_segurança".
-   Atualizações para plataformas do cliente estão disponíveis no [site Microsoft Update](http://go.microsoft.com/fwlink/?linkid=40747).

**Suporte:**

-   Os clientes nos EUA e Canadá podem receber suporte técnico dos [Serviços de suporte ao produto Microsoft](http://go.microsoft.com/fwlink/?linkid=21131) pelo telefone 1-866-PCSAFETY. As ligações para obter suporte associado a atualizações de segurança são gratuitas.
-   Os clientes de outros países podem obter suporte nas subsidiárias locais da Microsoft. O suporte associado a atualizações de segurança é gratuito. Para obter mais informações sobre como entrar em contato com a Microsoft a fim de obter suporte a problemas, visite o [site de Suporte Internacional](http://go.microsoft.com/fwlink/?linkid=21155).

**Recursos de segurança:**

-   O site [Microsoft TechNet Security](http://go.microsoft.com/fwlink/?linkid=21132) fornece informações adicionais sobre segurança em produtos da Microsoft.
-   [TechNet Update Management Center](http://go.microsoft.com/fwlink/?linkid=69903)
-   [Microsoft Software Update Services](http://go.microsoft.com/fwlink/?linkid=21133)
-   [Microsoft Windows Server Update Services](http://go.microsoft.com/fwlink/?linkid=50120)
-   [Microsoft Baseline Security Analyzer](http://go.microsoft.com/fwlink/?linkid=21134) (MBSA)
-   [Windows Update](http://go.microsoft.com/fwlink/?linkid=21130)
-   [Microsoft Update](http://update.microsoft.com/microsoftupdate)
-   Catálogo do Windows Update: Para obter mais informações sobre o Catálogo do Windows Update, consulte o [artigo 323166 (em inglês) da Microsoft Knowledge Base](http://support.microsoft.com/kb/323166).
-   [Atualização do Office](http://go.microsoft.com/fwlink/?linkid=21135)

**Software Update Services:**

Usando o Microsoft Software Update Services (SUS), os administradores podem implantar de maneira rápida e confiável as últimas atualizações críticas e de segurança em servidores que executem o Windows 2000 e o Windows Server 2003 e em sistemas desktop que executem o Windows 2000 Professional ou o Windows XP Professional.

Para obter mais informações sobre como implantar atualizações de segurança usando os serviços de atualização de software, visite o [site Software Update Services](http://go.microsoft.com/fwlink/?linkid=21133).

**Windows Server Update Services:**

Usando o WSUS (Windows Server Update Services), os administradores podem implantar de forma rápida e confiável as mais recentes atualizações críticas e de segurança dos sistemas operacionais Windows 2000 e posterior, Office XP e posterior, Exchange Server 2003, e SQL Server 2000 nos sistemas operacionais Windows 2000 e posteriores.

Para obter mais informações sobre como implantar atualizações de segurança usando o recurso Windows Server Update Services, visite o [site do Windows Server Update Services](http://go.microsoft.com/fwlink/?linkid=50120).

**Systems Management Server:**

O SMS (Microsoft Systems Management Server) fornece uma solução corporativa altamente configurável para gerenciar atualizações. Ao usar o SMS, os administradores podem identificar os sistemas baseados no Windows que precisam de atualizações de segurança, bem como executar uma implantação controlada dessas atualizações em toda a empresa com o mínimo de interrupção para os usuários finais. Para obter mais informações sobre como os administradores podem usar o SMS 2003 para implantar atualizações de segurança, visite o [site Gerenciamento de Patches de Segurança do SMS 2003](http://go.microsoft.com/fwlink/?linkid=22939). Os usuários do SMS 2.0 também podem usar o [Software Updates Service Feature Pack](http://go.microsoft.com/fwlink/?linkid=33340) (site em inglês) para ajudar a implantar atualizações de segurança. Para obter mais informações sobre o SMS, visite o [site do SMS](http://go.microsoft.com/fwlink/?linkid=21158).

**Observação** O SMS usa o Microsoft Baseline Security Analyzer, a Microsoft Office Detection Tool e a Enterprise Update Scanning Tool para oferecer amplo suporte à detecção e à implantação da atualização do boletim de segurança. Algumas atualizações de software podem não ser detectadas por essas ferramentas. Os administradores podem usar os recursos de inventário do SMS nesses casos para apontar as atualizações de sistemas específicos. Para obter mais informações sobre as classificações de gravidade, visite este [site](http://go.microsoft.com/fwlink/?linkid=33341) (em inglês). Algumas atualizações de segurança exigirão direitos administrativos quando o sistema for reiniciado. Os administradores podem usar a Elevated Rights Deployment Tool (disponível no [SMS 2003 Administration Feature Pack](http://go.microsoft.com/fwlink/?linkid=33387) e no [SMS 2.0 Administration Feature Pack](http://go.microsoft.com/fwlink/?linkid=21161)) (sites em inglês) para instalar essas atualizações.

**Aviso de isenção de responsabilidade:**

As informações fornecidas na Microsoft Knowledge Base são apresentadas "no estado em que se encontram", sem garantia de qualquer tipo. A Microsoft se isenta de todas as garantias, expressas ou implícitas, inclusive as garantias de comercialização e adequação a um propósito específico. Em hipótese alguma a Microsoft Corporation ou seus fornecedores serão responsáveis por quaisquer danos, inclusive danos diretos, indiretos, incidentais, conseqüenciais, danos por lucros cessantes ou danos especiais, mesmo que a Microsoft Corporation ou seus fornecedores tenham sido alertados da possibilidade dos referidos danos. Como alguns estados não permitem a exclusão ou limitação de responsabilidade por danos conseqüenciais ou indiretos, a limitação acima pode não ser aplicável a você.

**Revisões:**

-   V1.0 (10 de abril de 2007): Boletim publicado.

*Built at 2014-04-18T01:50:00Z-07:00*
